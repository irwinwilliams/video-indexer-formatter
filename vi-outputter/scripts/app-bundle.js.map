{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js"],"names":["App","message","vi_output_files","vi_output","parseFiles","console","log","length","file","reader","FileReader","onload","outputVIContent","readAsText","replaceAll","str","find","replace","RegExp","cleanTimeStamp","point","indexOf","before","substring","after","event","currentTarget","transcriptBlocks","JSON","parse","result","breakdowns","insights","block","blockResult","lines","line","text","end","adjustedTimeRange","start","push","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","then","setRoot","config"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n    constructor() {\n        this.message = \"Hello, let's read some videoindexer output!\";\n        this.vi_output_files = {};\n        this.vi_output = [];\n    }\n\n    parseFiles() {\n        console.log(\"INFO: parsing \" + this.vi_output_files.length + \" files\");\n        for (const file of this.vi_output_files) {\n            let reader = new FileReader();\n            reader.App = this;\n            reader.onload = this.outputVIContent;\n            reader.readAsText(file);\n        }\n    }\n\n    replaceAll(str, find, replace) {\n        return str.replace(new RegExp(find, 'g'), replace);\n    }\n\n    cleanTimeStamp(str) {\n        var point = str.indexOf(\".\");\n        var before = str.substring(0, point);\n        var after = str.substring(point);\n        after = this.replaceAll(after, '0', '');\n        return before + after;\n    }\n\n    outputVIContent(event) {\n        let reader = event.currentTarget;\n        let transcriptBlocks = JSON.parse(reader.result).breakdowns[0].insights.transcriptBlocks;\n        console.log(transcriptBlocks);\n        let result = '';\n        for (const block of transcriptBlocks) {\n            let blockResult = '';\n            for (const line of block.lines) {\n                blockResult += line.text + ' ';\n                result += line.text + ' ';\n                var end = line.adjustedTimeRange.end;\n                var start = line.adjustedTimeRange.start;\n                end = reader.App.cleanTimeStamp(end);\n                start = reader.App.cleanTimeStamp(start);\n                this.App.vi_output.push({\n                    \"timestamp\": start + ' - ' + end,\n                    \"line\": line.text\n                });\n            }\n            //this.App.vi_output.push(blockResult);\n        }\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}